Gecko
# DOM树
字节数据 ==> 字符串 ==> 标记(Token)

标记完成后 这些标记会紧接着转换成Node, 不同的Node会根据之前的联系构建一个DOM树

# CSSOM树
过程类似于DOM的产生,但是更加消耗性能,因为样式可以是自行设定的,也可能是继承获得的.
这个过程浏览器得递归CSSOM树,才能确定具体的元素到底是什么样式


# render树
DOM + CSSOM = render
渲染树不是简单的将两者合并,渲染树只会包括 需要显示的节点 和这些节点的样式信息,
比如: display: none 的节点就不再渲染树中显示


当浏览器生成渲染树之后, 就会根据渲染树来进行布局 (回流), 然后GPU绘制



# 为什么操作DOM 慢?
因为DOM树归渲染引擎操作, js归js引擎操作, 当使用js直接操作dom时
会涉及两个线程之间的通信, 势必带来性能损耗,同时还有可能造成重绘.


如果插入万个dom结构不卡顿?
requestAnimationFrame



# 什么情况阻塞渲染
html,css   读取到js,都会暂停DOM树的构建(单线程)

想要渲染更快 
- html 扁平化
- css 优化选择器
