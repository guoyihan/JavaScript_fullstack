<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
     *{
      margin: 0;
      padding: 0;
     }
     body{
         margin: 0;
         display: flex;
         align-items: center;
         justify-content: center;
         min-height: 100vh;
         background: #4C4C4C url('https://unsplash.it/1500/900?image=1021');
         background-size: cover;
     }
     .wrapper{
         display: flex;
         width: 850px;  
     }
     video{
         box-shadow: 0 0 3px rgba(0, 0, 0, .1);
     }
     .speed{
         background-color: #fff;
         flex: 1px;               
         display: flex;
         align-items: flex-start;   /*头部对齐*/
         margin: 10px;
         border-radius: 50px;
         box-shadow: 0 0 3px rgba(0, 0, 0, .1);
         overflow: hidden;
     }
     .speed-bar{
         width: 100%; 
         background: linear-gradient(-170deg, #2376ea 0%, #c16ecf 100%);  /*渐变色*/
         text-shadow: 1px 1px 0 rgba(0, 0, 0, .2);
         display: flex;
         justify-content: center;
         align-items: center;
         padding: 2px;
         color: #fff;
         height: 18.3%;
     }
     </style>
</head>
<body>
    <div class="wrapper">
        <video 
          class="flex"
          width="765" 
          height="430"
          src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4"
          loop
          controls>
        </video>
     <div class="speed">
        <div class="speed-bar">1x</div>
     </div>
    </div>
    <script>
        const speed = document.querySelector('.speed')
        const bar = speed.querySelector('.speed-bar')
        const video = document.querySelector('.flex')

        function handleMove (e) {
          const y = e.pageY - this.offsetTop    //鼠标在屏幕的高度-容器上端距离顶部的高度
          const percent = y / this.offsetHeight
          const min = 0.4
          const max = 4
          const height = Math.round(percent * 100) + '%'
          const playbackRate = percent * (max - min ) + min
          //原生js 修改 css的属性
          bar.style.height = height      //把鼠标修改的高度  改到 css中
          video.playbackRate = playbackRate    //把鼠标移动改动的播放速率 
          bar.textContent = playbackRate.toFixed(2) + 'x'     //修改htmlvideo中的文本   toFixed(2)  保留两位小数
        }
        
        speed.addEventListener('mousemove', handleMove)
    </script>
</body>
</html>